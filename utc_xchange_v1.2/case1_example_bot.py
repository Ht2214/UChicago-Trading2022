#!/usr/bin/env python

from utc_bot import UTCBot, start_bot
import proto.utc_bot as pb
import betterproto
import numpy as np

import asyncio

CONTRACTS = ["LBSJ","LBSM", "LBSQ", "LBSV", "LBSZ"]
POS_LIMIT = 100
ORDER_SIZE = 10 #originally 20
EDGE = 0.02

FADE = 0.02
SLACK = 0.10
FAIR_DELTA = 0.0
RISK_FREE_INTEREST = 0.025

CONTRACT_TO_DAY = {
    "LBSJ": 4 * 21 - 1,
    "LBSM": 6 * 21 - 1,
    "LBSQ": 8 * 21 - 1, 
    "LBSV": 10 * 21 - 1,
    "LBSZ": 12 * 21 - 1
}
YEAR = int(input("Enter Year: "))
print(f"Setting Simulation for year {YEAR}!")
if True:
    lst = [225.333668186544, 226.95805471735534, 228.58244124816667, 230.20682777897804, 231.83121430978937, 233.4556008406007, 231.29397458099572, 229.13234832139077, 226.97072206178578, 224.80909580218082, 222.64746954257583, 227.1361878677758, 231.62490619297574, 236.11362451817573, 240.60234284337568, 245.09106116857564, 243.33796674205402, 241.58487231553244, 239.83177788901082, 238.07868346248924, 236.32558903596762, 236.31712641300066, 236.3086637900337, 236.30020116706675, 236.2917385440998, 236.28327592113283, 234.3890738366048, 232.4948717520768, 230.60066966754877, 228.70646758302075, 226.81226549849274, 224.97331013828278, 223.1343547780728, 221.29539941786285, 219.45644405765287, 217.61748869744292, 222.32124845479007, 227.02500821213718, 231.72876796948432, 236.43252772683144, 241.13628748417858, 233.57287037936823, 226.0094532745579, 218.44603616974754, 210.88261906493722, 203.31920196012686, 206.29093268710008, 209.26266341407333, 212.23439414104655, 215.2061248680198, 218.17785559499302, 221.49464132021137, 224.81142704542972, 228.12821277064805, 231.4449984958664, 234.76178422108475, 235.26053611453062, 235.7592880079765, 236.2580399014224, 236.75679179486826, 237.25554368831413, 232.30572370211274, 227.35590371591132, 222.40608372970993, 217.45626374350852, 212.50644375730712, 209.5355701607845, 206.56469656426185, 203.59382296773921, 200.62294937121658, 197.65207577469394, 199.26275546923608, 200.87343516377823, 202.48411485832037, 204.0947945528625, 205.70547424740465, 211.175585107244, 216.64569596708333, 222.11580682692266, 227.585917686762, 233.05602854660134, 234.1163211190032, 235.1766136914051, 236.23690626380696, 237.29719883620885, 238.3574914086107, 234.64125106970053, 230.92501073079035, 227.20877039188017, 223.49253005296998, 219.7762897140598, 221.69589182391258, 223.61549393376535, 225.5350960436181, 227.45469815347087, 229.37430026332365, 225.59170386700447, 221.8091074706853, 218.02651107436608, 214.2439146780469, 210.46131828172773, 215.10217754235393, 219.7430368029801, 224.3838960636063, 229.02475532423247, 233.66561458485867, 229.0930474814616, 224.52048037806455, 219.94791327466748, 215.37534617127042, 210.80277906787336, 214.53560201637762, 218.26842496488186, 222.00124791338612, 225.73407086189036, 229.46689381039462, 225.03576634365854, 220.60463887692245, 216.17351141018634, 211.74238394345025, 207.31125647671416, 209.54635696933136, 211.78145746194855, 214.01655795456574, 216.25165844718293, 218.48675893980013, 220.01036250184873, 221.53396606389734, 223.05756962594597, 224.58117318799458, 226.1047767500432, 225.64943591216007, 225.19409507427693, 224.73875423639382, 224.28341339851067, 223.82807256062756, 223.47456427726962, 223.12105599391168, 222.76754771055374, 222.4140394271958, 222.06053114383786, 220.41094836553245, 218.76136558722703, 217.1117828089216, 215.46220003061617, 213.81261725231076, 210.47815523934835, 207.14369322638592, 203.80923121342352, 200.47476920046108, 197.14030718749868, 198.63902083736366, 200.1377344872286, 201.6364481370936, 203.13516178695855, 204.63387543682353, 202.49753522082548, 200.36119500482744, 198.22485478882936, 196.08851457283131, 193.95217435683327, 199.86667844018947, 205.7811825235457, 211.69568660690192, 217.61019069025815, 223.52469477361436, 220.9137633523774, 218.30283193114045, 215.69190050990352, 213.08096908866656, 210.4700376674296, 212.50063364863877, 214.5312296298479, 216.56182561105706, 218.5924215922662, 220.62301757347535, 219.85370166157244, 219.08438574966954, 218.31506983776663, 217.54575392586372, 216.7764380139608, 217.9176730699181, 219.0589081258754, 220.2001431818327, 221.34137823779, 222.48261329374728, 229.0310367069795, 235.57946012021173, 242.127883533444, 248.67630694667622, 255.22473035990845, 256.0806710808432, 256.936611801778, 257.7925525227128, 258.6484932436476, 259.50443396458235, 258.8195464224345, 258.13465888028657, 257.4497713381387, 256.7648837959908, 256.0799962538429, 257.36201003736846, 258.644023820894, 259.9260376044196, 261.20805138794515, 262.4900651714707, 258.655074105403, 254.82008303933532, 250.98509197326763, 247.15010090719994, 243.31510984113226, 241.43629004098554, 239.55747024083882, 237.6786504406921, 235.7998306405454, 233.92101084039868, 237.27227227996468, 240.6235337195307, 243.97479515909671, 247.32605659866275, 250.67731803822875, 252.30615375241217, 253.93498946659557, 255.563825180779, 257.1926608949624, 258.8214966091458, 261.498382594968, 264.1752685807902, 266.85215456661246, 269.52904055243465, 272.20592653825685, 273.2894083587723, 274.3728901792877, 275.4563719998031, 276.5398538203185, 277.62333564083394, 276.5517762536719, 275.48021686650986, 274.40865747934777, 273.3370980921857, 272.2655387050237, 269.555012550242, 266.84448639546036, 264.1339602406787, 261.42343408589704, 258.71290793111535, 262.3652267346587, 266.01754553820194, 269.66986434174527, 273.32218314528853, 276.97450194883186, 268.3196433995964, 259.6647848503609, 251.00992630112543, 242.35506775188998, 233.7002092026545, 236.19472921242894, 238.6892492222034, 241.18376923197786, 243.6782892417523, 246.17280925152676, 246.47228050177412, 246.77175175202152, 247.07122300226888, 247.37069425251627, 247.67016550276364, 246.4374550235936, 245.20474454442356, 243.9720340652535, 242.73932358608346, 241.50661310691342, 243.5804346834345, 245.6542562599556, 247.7280778364767, 249.80189941299778, 251.87572098951887, 250.26666064858154, 248.65760030764423, 247.0485399667069, 245.4394796257696, 243.83041928483226, 242.32867707773923, 240.82693487064623, 239.3251926635532, 237.8234504564602, 236.32170824936716, 237.90652945911256, 239.49135066885796, 241.0761718786034, 242.6609930883488, 244.2458142980942, 246.6441855207603, 249.0425567434264, 251.4409279660925, 253.8392991887586, 256.2376704114247, 256.024525285048, 255.8113801586713, 255.59823503229464, 255.38508990591794, 255.17194477954126, 256.6875122170631, 258.20307965458494, 259.71864709210683, 261.2342145296287, 262.7497819671505, 262.52586532143056, 262.3019486757106, 262.07803202999065, 261.8541153842707, 261.63019873855075, 260.7456884582027, 259.8611781778547, 258.9766678975067, 258.09215761715865, 257.2076473368106, 255.74086581459898, 254.2740842923873, 252.80730277017565, 251.34052124796398, 249.87373972575233, 251.99110956472018, 254.10847940368802, 256.22584924265584, 258.3432190816237, 260.46058892059153, 260.05460910846404, 259.6486292963366, 259.2426494842091, 258.83666967208165, 258.43068985995416, 254.9682921776971, 251.50589449544, 248.04349681318294, 244.58109913092585, 241.1187014486688, 236.6616557927945, 232.20461013692022, 227.7475644810459, 223.29051882517163, 218.83347316929735, 220.3804129555473, 221.92735274179725, 223.47429252804722, 225.02123231429715, 226.56817210054712, 225.9073445686921, 225.2465170368371, 224.58568950498207, 223.92486197312707, 223.26403444127206, 223.18417709194597, 223.10431974261988, 223.02446239329376, 222.94460504396767, 222.86474769464158, 219.4686721373821, 216.07259658012262, 212.67652102286314, 209.28044546560366, 205.88436990834418, 208.52505122549292, 211.16573254264165, 213.8064138597904, 216.44709517693914, 219.08777649408788, 216.98277924977126, 214.87778200545463, 212.772784761138, 210.6677875168214, 208.56279027250477, 210.1377289927801, 211.71266771305542, 213.28760643333078, 214.8625451536061, 216.43748387388143, 216.4927684007735, 216.54805292766562, 216.6033374545577, 216.6586219814498, 216.7139065083419, 217.06025686444937, 217.40660722055685, 217.7529575766643, 218.09930793277178, 218.44565828887926, 216.55204096316496, 214.65842363745065, 212.76480631173638, 210.87118898602208, 208.97757166030777, 208.37209456732114, 207.7666174743345, 207.1611403813479, 206.55566328836127, 205.95018619537464, 210.33814665689704, 214.72610711841943, 219.1140675799418, 223.5020280414642, 227.8899885029866, 231.94880886680843, 236.00762923063027, 240.06644959445214, 244.12526995827398, 248.1840903220958, 247.61819867722414, 247.05230703235247, 246.48641538748078, 245.9205237426091, 245.35463209773744, 243.6539617835943, 241.9532914694512, 240.25262115530805, 238.55195084116494, 236.8512805270218, 235.65725866586976, 234.46323680471772, 233.2692149435657, 232.07519308241365, 230.8811712212616, 229.9371234954148, 228.99307576956795, 228.04902804372114, 227.1049803178743, 226.16093259202748, 226.96244991366922, 227.76396723531096, 228.5654845569527, 229.36700187859444, 230.16851920023618, 231.7434287649713, 233.31833832970642, 234.89324789444154, 236.46815745917667, 238.0430670239118, 241.76652265094805, 245.48997827798433, 249.2134339050206, 252.93688953205688, 256.66034515909314, 260.31046283151545, 263.96058050393776, 267.6106981763601, 271.2608158487824, 274.9109335212047, 274.7181250944014, 274.5253166675981, 274.33250824079477, 274.13969981399146, 273.94689138718815, 270.52746284515666, 267.1080343031251, 263.68860576109364, 260.2691772190621, 256.8497486770306, 256.378425423632, 255.90710217023337, 255.43577891683472, 254.9644556634361, 254.49313241003748, 256.0096178259711, 257.52610324190465, 259.0425886578382, 260.55907407377185, 262.0755594897054, 261.0707024847815, 260.0658454798576, 259.06098847493377, 258.05613147000986, 257.05127446508595, 260.25669221427984, 263.4621099634737, 266.66752771266755, 269.87294546186143, 273.0783632110553, 271.06311309520515, 269.04786297935493, 267.03261286350477, 265.01736274765454, 263.0021126318044, 264.53203616519085, 266.06195969857725, 267.5918832319637, 269.12180676535013, 270.6517302987366, 270.5603190163388, 270.46890773394097, 270.3774964515431, 270.2860851691453, 270.19467388674747, 266.97981968058696, 263.76496547442645, 260.55011126826594, 257.3352570621054, 254.1204028559449, 255.32640531060304, 256.53240776526115, 257.7384102199193, 258.94441267457745, 260.15041512923557, 263.6776514622492, 267.2048877952627, 270.7321241282763, 274.2593604612899, 277.7865967943035, 278.4793820032822, 279.1721672122609, 279.86495242123965, 280.55773763021836, 281.25052283919706, 280.5977652470996, 279.94500765500214, 279.29225006290466, 278.6394924708072, 277.98673487870974, 278.19658876072083, 278.406442642732, 278.61629652474306, 278.8261504067542, 279.0360042887653, 280.40803561602274, 281.7800669432802, 283.1520982705377, 284.52412959779514, 285.8961609250526, 286.9997818937523, 288.103402862452, 289.2070238311518, 290.3106447998515, 291.4142657685512, 285.10372561736125, 278.7931854661713, 272.4826453149813, 266.17210516379134, 259.8615650126014, 264.5003614973809, 269.1391579821604, 273.77795446693983, 278.41675095171934, 283.05554743649884, 278.024167336896, 272.99278723729316, 267.96140713769034, 262.9300270380875, 257.89864693848466, 257.31465491632116, 256.73066289415766, 256.14667087199416, 255.5626788498307, 254.9786868276672, 255.30136221341112, 255.62403759915506, 255.94671298489897, 256.2693883706429, 256.59206375638684, 256.1592087522446, 255.72635374810238, 255.29349874396013, 254.8606437398179, 254.42778873567568, 253.45122271017468, 252.47465668467368, 251.49809065917265, 250.52152463367165, 249.54495860817065, 247.5582808315376, 245.57160305490453, 243.58492527827147, 241.5982475016384, 239.61156972500535, 239.76117175270028, 239.9107737803952, 240.06037580809013, 240.20997783578505, 240.35957986347998, 240.97772239678835, 241.59586493009672, 242.21400746340512, 242.8321499967135, 243.45029253002187, 242.0638213994766, 240.67735026893132, 239.29087913838606, 237.90440800784077, 236.5179368772955, 240.10869078778742, 243.69944469827934, 247.29019860877128, 250.8809525192632, 254.4717064297551, 253.69110961273623, 252.91051279571735, 252.12991597869845, 251.34931916167957, 250.5687223446607, 248.76819230539363, 246.96766226612652, 245.16713222685945, 243.36660218759235, 241.56607214832528, 243.46545505431212, 245.36483796029896, 247.26422086628577, 249.1636037722726, 251.06298667825945, 249.7753583780403, 248.48773007782117, 247.20010177760201, 245.9124734773829, 244.62484517716373, 245.55491571760632, 246.4849862580489, 247.41505679849152, 248.3451273389341, 249.2751978793767, 248.7150133827948, 248.15482888621293, 247.59464438963104, 247.03445989304916, 246.47427539646728, 246.4935737001183, 246.51287200376933, 246.5321703074204, 246.5514686110714, 246.57076691472244, 242.14148613080727, 237.7122053468921, 233.28292456297692, 228.85364377906174, 224.42436299514657, 224.04632889083368, 223.6682947865208, 223.2902606822079, 222.912226577895, 222.53419247358212, 221.51458887387432, 220.49498527416648, 219.47538167445867, 218.45577807475084, 217.43617447504303, 220.03461847544662, 222.6330624758502, 225.2315064762538, 227.8299504766574, 230.42839447706098, 232.65994076888134, 234.8914870607017, 237.1230333525221, 239.35457964434246, 241.58612593616283, 245.91431162040396, 250.24249730464513, 254.57068298888626, 258.8988686731274, 263.22705435736856, 260.97578705748344, 258.7245197575983, 256.47325245771316, 254.22198515782802, 251.97071785794287, 252.63975282699514, 253.3087877960474, 253.97782276509963, 254.6468577341519, 255.31589270320416, 253.9839338801176, 252.65197505703105, 251.32001623394447, 249.98805741085792, 248.65609858777137, 246.48495668273915, 244.3138147777069, 242.1426728726747, 239.97153096764245, 237.80038906261024, 239.0424175328155, 240.2844460030208, 241.52647447322607, 242.76850294343137, 244.01053141363664, 247.75902220750316, 251.50751300136972, 255.25600379523624, 259.00449458910276, 262.7529853829693, 260.40069325771464, 258.04840113246, 255.69610900720534, 253.3438168819507, 250.99152475669604, 249.58238128877662, 248.17323782085717, 246.76409435293775, 245.3549508850183, 243.94580741709888, 246.24317789812142, 248.54054837914396, 250.8379188601665, 253.13528934118904, 255.43265982221158, 252.8381180717189, 250.2435763212262, 247.6490345707335, 245.0544928202408, 242.45995106974812, 245.11643579517425, 247.77292052060042, 250.42940524602656, 253.08588997145273, 255.74237469687887, 264.67091646348433, 273.59945823008985, 282.5279999966953, 291.45654176330083, 300.3850835299063, 301.46158453508343, 302.5380855402606, 303.61458654543776, 304.69108755061495, 305.7675885557921, 305.46998911962504, 305.17238968345805, 304.874790247291, 304.577190811124, 304.27959137495696, 300.60944609394227, 296.93930081292757, 293.2691555319128, 289.5990102508981, 285.9288649698834, 285.91536521292227, 285.9018654559611, 285.888365699, 285.87486594203887, 285.8613661850777, 286.7286295590052, 287.5958929329327, 288.4631563068602, 289.3304196807877, 290.1976830547152, 291.2734306055945, 292.34917815647384, 293.42492570735317, 294.5006732582325, 295.5764208091118, 295.44913065205793, 295.32184049500404, 295.1945503379501, 295.0672601808962, 294.9399700238423, 293.1866632510558, 291.4333564782693, 289.6800497054827, 287.9267429326962, 286.17343615990967, 289.92483874233625, 293.6762413247628, 297.42764390718946, 301.17904648961604, 304.9304490720426, 304.72806501781463, 304.52568096358664, 304.32329690935865, 304.12091285513065, 303.91852880090266, 303.1392197518946, 302.35991070288645, 301.5806016538784, 300.80129260487024, 300.02198355586216, 298.09514363427735, 296.16830371269253, 294.2414637911077, 292.3146238695229, 290.3877839479381, 292.07390678696805, 293.76002962599796, 295.4461524650279, 297.1322753040578, 298.8183981430878, 299.39648713672074, 299.97457613035374, 300.5526651239867, 301.1307541176197, 301.70884311125263, 303.4571861855384, 305.2055292598242, 306.9538723341099, 308.7022154083957, 310.45055848268146, 305.98322352998036, 301.51588857727927, 297.0485536245781, 292.581218671877, 288.11388371917593, 287.33196297958165, 286.55004223998736, 285.76812150039314, 284.98620076079885, 284.20428002120457, 281.96207031366066, 279.71986060611675, 277.47765089857285, 275.23544119102894, 272.99323148348503, 276.5071878601267, 280.0211442367683, 283.53510061340995, 287.04905699005155, 290.5630133666932, 287.58735441956907, 284.6116954724449, 281.63603652532083, 278.6603775781967, 275.68471863107254, 271.1878891539658, 266.691059676859, 262.19423019975227, 257.6974007226455, 253.20057124553873, 253.7405330518795, 254.28049485822032, 254.8204566645611, 255.36041847090192, 255.9003802772427, 254.64485847858307, 253.38933667992345, 252.13381488126382, 250.8782930826042, 249.62277128394456, 249.94858103588047, 250.27439078781637, 250.60020053975228, 250.9260102916882, 251.2518200436241, 249.7069471431478, 248.16207424267148, 246.6172013421952, 245.07232844171887, 243.52745554124257, 243.77012205722926, 244.01278857321594, 244.2554550892026, 244.49812160518928, 244.74078812117597, 243.11855482410823, 241.49632152704046, 239.87408822997273, 238.25185493290496, 236.62962163583722, 237.0270090882686, 237.42439654069997, 237.82178399313136, 238.21917144556272, 238.6165588979941, 238.73611482296303, 238.85567074793198, 238.9752266729009, 239.09478259786985, 239.21433852283877, 238.36769190244033, 237.52104528204185, 236.6743986616434, 235.82775204124493, 234.9811054208465, 236.99147609223087, 239.00184676361525, 241.01221743499966, 243.02258810638403, 245.0329587777684, 245.89767832116908, 246.76239786456978, 247.62711740797045, 248.49183695137114, 249.3565564947718, 244.9128098768899, 240.46906325900798, 236.02531664112604, 231.58157002324413, 227.1378234053622, 232.27773642159138, 237.41764943782056, 242.5575624540497, 247.69747547027887, 252.83738848650805, 250.686185136775, 248.53498178704194, 246.3837784373089, 244.23257508757584, 242.0813717378428, 241.7465509520009, 241.41173016615897, 241.07690938031706, 240.74208859447515, 240.40726780863324, 242.5710284689208, 244.73478912920834, 246.89854978949592, 249.06231044978347, 251.22607111007102, 249.03475029752798, 246.84342948498497, 244.65210867244193, 242.46078785989891, 240.26946704735587, 240.2604248459554, 240.25138264455495, 240.2423404431545, 240.23329824175403, 240.22425604035357, 239.75759740415225, 239.29093876795093, 238.8242801317496, 238.35762149554827, 237.89096285934696, 240.35325860300688, 242.8155543466668, 245.27785009032675, 247.74014583398667, 250.2024415776466, 254.19796661213343, 258.19349164662026, 262.18901668110703, 266.18454171559387, 270.1800667500807, 274.48699734933604, 278.7939279485913, 283.10085854784666, 287.40778914710194, 291.7147197463573, 292.65546766550676, 293.59621558465625, 294.5369635038058, 295.4777114229553, 296.41845934210477, 295.72383926809704, 295.0292191940893, 294.33459912008163, 293.6399790460739, 292.9453589720662, 288.64217036543323, 284.33898175880023, 280.0357931521673, 275.7326045455343, 271.42941593890134, 269.6313567931298, 267.83329764735817, 266.0352385015866, 264.237179355815, 262.4391202100434, 263.5925339351148, 264.7459476601861, 265.8993613852575, 267.05277511032887, 268.2061888354002, 269.9466681915593, 271.68714754771844, 273.4276269038775, 275.16810626003667, 276.90858561619575, 278.7051972126996, 280.50180880920345, 282.29842040570736, 284.0950320022112, 285.89164359871506, 285.7196697077872, 285.54769581685935, 285.37572192593154, 285.2037480350037, 285.0317741440758, 288.610315397733, 292.1888566513902, 295.76739790504746, 299.34593915870465, 302.92448041236185, 299.5135039324408, 296.1025274525198, 292.6915509725988, 289.2805744926778, 285.86959801275674, 287.69510672523137, 289.520615437706, 291.34612415018063, 293.17163286265526, 294.9971415751299, 293.0823247551138, 291.1675079350977, 289.25269111508163, 287.33787429506555, 285.42305747504946, 285.0809025507152, 284.7387476263809, 284.3965927020467, 284.0544377777124, 283.71228285337816, 286.0665046516209, 288.42072644986365, 290.77494824810634, 293.1291700463491, 295.48339184459184, 293.47697081800465, 291.47054979141745, 289.46412876483026, 287.4577077382431, 285.4512867116559, 289.6312943666406, 293.8113020216253, 297.99130967660994, 302.17131733159465, 306.35132498657936, 306.52512755072917, 306.698930114879, 306.8727326790288, 307.0465352431786, 307.2203378073284, 307.65577468151395, 308.0912115556995, 308.5266484298851, 308.9620853040706, 309.39752217825617, 311.7233077717648, 314.0490933652734, 316.37487895878206, 318.7006645522907, 321.0264501457993, 317.56039083616344, 314.0943315265276, 310.6282722168917, 307.1622129072558, 303.69615359761997, 304.5370656392178, 305.37797768081566, 306.21888972241356, 307.0598017640114, 307.90071380560926, 306.5196101148264, 305.13850642404344, 303.75740273326056, 302.3762990424776, 300.99519535169475, 301.04631728089635, 301.09743921009795, 301.1485611392995, 301.1996830685011, 301.2508049977027, 297.6323009456026, 294.0137968935025, 290.39529284140247, 286.7767887893024, 283.1582847372023, 284.1888036203151, 285.219322503428, 286.24984138654077, 287.2803602696536, 288.31087915276646, 287.5586027170565, 286.8063262813465, 286.0540498456365, 285.3017734099265, 284.54949697421654, 281.8322265231675, 279.1149560721184, 276.39768562106934, 273.68041517002024, 270.9631447189712, 269.2823847284511, 267.60162473793105, 265.92086474741103, 264.24010475689096, 262.5593447663709, 263.37491443473874, 264.1904841031066, 265.0060537714745, 265.82162343984237, 266.6371931082102, 264.54426241522236, 262.45133172223456, 260.3584010292467, 258.2654703362589, 256.172539643271, 256.25427392610965, 256.3360082089482, 256.41774249178684, 256.4994767746254, 256.58121105746403, 256.9825575375625, 257.383904017661, 257.7852504977595, 258.18659697785796, 258.58794345795644, 258.54781532334994, 258.5076871887435, 258.467559054137, 258.42743091953054, 258.38730278492403, 255.62190180051687, 252.8565008161097, 250.0910998317025, 247.32569884729534, 244.56029786288818, 246.57764323575267, 248.59498860861717, 250.61233398148164, 252.62967935434614, 254.64702472721063, 253.7133238769504, 252.7796230266902, 251.84592217642995, 250.91222132616974, 249.9785204759095, 254.78912762621766, 259.59973477652585, 264.410341926834, 269.22094907714217, 274.0315562274503, 273.00869254044255, 271.9858288534347, 270.96296516642695, 269.9401014794191, 268.91723779241136, 267.48717833713135, 266.0571188818514, 264.6270594265714, 263.19699997129146, 261.76694051601146, 262.030592211862, 262.2942439077124, 262.55789560356294, 262.8215472994134, 263.0851989952639, 265.11238444792986, 267.1395699005958, 269.1667553532618, 271.19394080592775, 273.2211262585937, 273.3082122731895, 273.3952982877853, 273.48238430238104, 273.56947031697683, 273.65655633157263, 273.73488811897124, 273.8132199063698, 273.8915516937684, 273.96988348116696, 274.04821526856557, 275.9656088420198, 277.88300241547404, 279.80039598892824, 281.7177895623825, 283.6351831358367, 282.13500293053465, 280.6348227252326, 279.1346425199305, 277.6344623146284, 276.13428210932636, 276.352266995858, 276.5702518823896, 276.78823676892125, 277.00622165545286, 277.2242065419845, 277.1991746895008, 277.1741428370172, 277.14911098453354, 277.1240791320499, 277.09904727956626, 276.84628188685775, 276.59351649414924, 276.3407511014407, 276.08798570873216, 275.83522031602365, 275.3855994316849, 274.93597854734617, 274.4863576630075, 274.03673677866874, 273.58711589433, 270.88799185180835, 268.18886780928665, 265.489743766765, 262.7906197242433, 260.09149568172165, 263.317120060569, 266.5427444394163, 269.7683688182637, 272.993993197111, 276.21961757595835, 275.0774745532724, 273.9353315305865, 272.79318850790054, 271.65104548521464, 270.5089024625287, 273.08044696524064, 275.6519914679526, 278.22353597066456, 280.7950804733765, 283.3666249760885, 287.2565525173723, 291.14648005865615, 295.03640759994, 298.92633514122383, 302.81626268250767, 301.786770745127, 300.75727880774633, 299.72778687036566, 298.698294932985, 297.6688029956043, 301.35914274061486, 305.0494824856254, 308.7398222306359, 312.43016197564646, 316.120501720657, 315.5642480956464, 315.00799447063577, 314.4517408456252, 313.89548722061454, 313.33923359560396, 312.14877960317426, 310.95832561074457, 309.76787161831487, 308.5774176258852, 307.3869636334555, 310.40028788268785, 313.4136121319202, 316.4269363811526, 319.44026063038496, 322.4535848796173, 321.1585753295059, 319.86356577939443, 318.568556229283, 317.27354667917155, 315.9785371290601, 316.3761570432571, 316.773776957454, 317.171396871651, 317.5690167858479, 317.9666367000449, 317.9092708236033, 317.8519049471618, 317.79453907072025, 317.73717319427874, 317.6798073178372, 316.93337582138423, 316.1869443249313, 315.4405128284784, 314.69408133202546, 313.9476498355725, 315.0008168932579, 316.05398395094323, 317.10715100862865, 318.160318066314, 319.21348512399936, 319.1331682175431, 319.0528513110868, 318.97253440463055, 318.89221749817426, 318.811900591718, 318.84064797423173, 318.86939535674543, 318.8981427392592, 318.9268901217729, 318.95563750428664, 318.3581544028422, 317.7606713013978, 317.16318819995337, 316.56570509850894, 315.9682219970645, 316.2192947477606, 316.47036749845665, 316.72144024915275, 316.9725129998488, 317.2235857505449, 317.4714286468741, 317.7192715432033, 317.9671144395325, 318.21495733586175, 318.46280023219094, 317.8145027954248, 317.16620535865866, 316.5179079218926, 315.86961048512643, 315.2213130483603, 313.7569279309955, 312.2925428136308, 310.82815769626603, 309.3637725789013, 307.89938746153655, 308.61804223892506, 309.33669701631356, 310.05535179370213, 310.77400657109064, 311.49266134847915, 309.0405205825251, 306.5883798165711, 304.136239050617, 301.684098284663, 299.23195751870895, 299.4898328219976, 299.7477081252863, 300.00558342857494, 300.26345873186364, 300.5213340351523, 300.8668438086722, 301.2123535821921, 301.557863355712, 301.90337312923197, 302.24888290275186, 301.87736848855786, 301.50585407436387, 301.1343396601698, 300.7628252459758, 300.3913108317818, 298.43517069230575, 296.4790305528296, 294.52289041335354, 292.5667502738774, 290.6106101344013, 289.40945885587564, 288.20830757734996, 287.00715629882427, 285.8060050202986, 284.6048537417729, 285.13508039184984, 285.6653070419268, 286.19553369200366, 286.7257603420806, 287.25598699215755, 286.60794758228826, 285.959908172419, 285.3118687625497, 284.6638293526804, 284.0157899428111, 284.5110293772398, 285.00626881166846, 285.50150824609716, 285.9967476805258, 286.4919871149545, 285.47222769655144, 284.4524682781484, 283.4327088597454, 282.41294944134233, 281.3931900229393, 281.5008977592913, 281.60860549564336, 281.7163132319954, 281.82402096834744, 281.9317287046995, 280.63395752909815, 279.33618635349677, 278.03841517789544, 276.74064400229406, 275.44287282669274, 275.55289023780597, 275.66290764891926, 275.7729250600325, 275.8829424711458, 275.992959882259, 276.55794680070915, 277.1229337191593, 277.6879206376094, 278.25290755605954, 278.81789447450967, 278.6840678630514, 278.5502412515931, 278.41641464013486, 278.28258802867657, 278.1487614172183, 277.82534898414946, 277.50193655108063, 277.17852411801186, 276.85511168494304, 276.5316992518742, 276.4920277988847, 276.45235634589517, 276.4126848929056, 276.37301343991606, 276.33334198692654, 276.2861937094903, 276.23904543205407, 276.19189715461783, 276.1447488771816, 276.09760059974536, 276.9835347127574, 277.86946882576945, 278.75540293878146, 279.6413370517935, 280.52727116480554, 280.05666554007644, 279.58605991534733, 279.1154542906183, 278.6448486658892, 278.1742430411601, 278.3211107726179, 278.4679785040757, 278.61484623553355, 278.76171396699135, 278.90858169844915, 279.0453670312528, 279.1821523640565, 279.31893769686013, 279.45572302966383, 279.59250836246747, 280.4278112911171, 281.26311421976675, 282.09841714841633, 282.93372007706597, 283.7690230057156, 283.53939502663656, 283.30976704755756, 283.0801390684785, 282.8505110893995, 282.62088311032045, 282.94543533401253, 283.2699875577046, 283.59453978139663, 283.9190920050887, 284.2436442287808, 284.508097413092, 284.7725505974032, 285.0370037817145, 285.3014569660257, 285.5659101503369, 286.1497049629966, 286.73349977565636, 287.31729458831614, 287.9010894009759, 288.4848842136356, 288.8227050765419, 289.16052593944823, 289.49834680235455, 289.83616766526086, 290.1739885281672, 291.8285367956653, 293.48308506316334, 295.13763333066146, 296.7921815981595, 298.44672986565763, 298.7098587880463, 298.972987710435, 299.23611663282367, 299.4992455552124, 299.76237447760104, 300.86042210677766, 301.9584697359543, 303.05651736513096, 304.1545649943076, 305.2526126234842, 306.48033402827315, 307.70805543306204, 308.935776837851, 310.1634982426399, 311.39121964742884, 311.0990067647307, 310.8067938820325, 310.5145809993343, 310.2223681166361, 309.93015523393797, 310.2649097142271, 310.59966419451627, 310.9344186748054, 311.26917315509456, 311.6039276353837, 313.0312155525796, 314.4585034697755, 315.88579138697145, 317.31307930416733, 318.7403672213633, 319.2642976255666, 319.7882280297699, 320.31215843397325, 320.8360888381766, 321.3600192423799, 322.2843212379448, 323.2086232335097, 324.1329252290746, 325.05722722463946, 325.9815292202044, 326.14570101962283, 326.3098728190413, 326.4740446184597, 326.63821641787814, 326.8023882172966, 327.03312934273083, 327.2638704681651, 327.49461159359936, 327.72535271903365, 327.9560938444679, 327.81008261947164, 327.6640713944754, 327.5180601694792, 327.37204894448297, 327.2260377194867, 326.6127657512116, 325.9994937829365, 325.3862218146613, 324.7729498463862, 324.1596778781111, 324.38435683389434, 324.6090357896776, 324.8337147454608, 325.05839370124403, 325.2830726570273, 325.66783786477765, 326.052603072528, 326.43736828027835, 326.82213348802867, 327.20689869577905, 327.83392820257325, 328.46095770936745, 329.08798721616165, 329.71501672295585, 330.34204622975005, 329.97309258532687, 329.6041389409037, 329.23518529648044, 328.86623165205725, 328.49727800763407, 328.75680355087576, 329.0163290941175, 329.2758546373592, 329.53538018060095, 329.79490572384265, 330.22078130613943, 330.6466568884362, 331.07253247073305, 331.49840805302983, 331.9242836353266, 331.40413413670524, 330.88398463808386, 330.3638351394625, 329.8436856408411, 329.3235361422197, 327.764740762207, 326.2059453821943, 324.6471500021816, 323.0883546221689, 321.52955924215615, 322.20888737286907, 322.888215503582, 323.56754363429496, 324.2468717650079, 324.9261998957208, 322.55639459148495, 320.18658928724903, 317.8167839830132, 315.44697867877727, 313.0771733745414, 313.31944114439483, 313.56170891424824, 313.80397668410166, 314.04624445395507, 314.2885122238085, 314.55838188774413, 314.8282515516798, 315.0981212156154, 315.36799087955103, 315.6378605434867, 315.29200799379555, 314.9461554441044, 314.60030289441335, 314.2544503447222, 313.9085977950311, 311.99282334902205, 310.07704890301306, 308.161274457004, 306.24550001099504, 304.329725564986, 303.0888399120979, 301.8479542592098, 300.60706860632166, 299.36618295343357, 298.12529730054547, 298.63594905386134, 299.1466008071772, 299.657252560493, 300.1679043138089, 300.67855606712476, 300.0675722415904, 299.4565884160561, 298.84560459052176, 298.2346207649874, 297.6236369394531, 298.1207426389076, 298.6178483383621, 299.1149540378165, 299.612059737271, 300.1091654367255, 299.06029285702397, 298.0114202773225, 296.96254769762095, 295.91367511791947, 294.86480253821793, 294.98194440134984, 295.09908626448174, 295.2162281276137, 295.3333699907456, 295.4505118538775, 294.1722940327475, 292.8940762116175, 291.6158583904876, 290.3376405693576, 289.0594227482276, 289.1553037747653, 289.251184801303, 289.34706582784077, 289.4429468543785, 289.5388278809162, 290.0938533444408, 290.6488788079654, 291.20390427149005, 291.75892973501465, 292.31395519853925, 292.1947657647118, 292.07557633088436, 291.956386897057, 291.83719746322953, 291.7180080294021, 291.39709040345554, 291.07617277750893, 290.7552551515624, 290.4343375256158, 290.1134198996692, 290.06148326854156, 290.00954663741385, 289.9576100062862, 289.90567337515847, 289.8537367440308, 289.8090595073532, 289.7643822706756, 289.71970503399797, 289.67502779732035, 289.63035056064274, 290.52491348084567, 291.41947640104866, 292.3140393212516, 293.20860224145457, 294.1031651616575, 293.6275253374921, 293.1518855133267, 292.6762456891613, 292.2006058649959, 291.7249660408305, 291.86693748741794, 292.0089089340054, 292.15088038059287, 292.2928518271803, 292.43482327376773, 292.5772783844231, 292.71973349507846, 292.8621886057338, 293.0046437163892, 293.14709882704454, 293.98416206024916, 294.82122529345384, 295.65828852665845, 296.4953517598631, 297.33241499306774, 297.0977481665007, 296.8630813399337, 296.62841451336664, 296.3937476867996, 296.15908086023256, 296.4840796163328, 296.809078372433, 297.1340771285332, 297.4590758846334, 297.78407464073365, 298.05228138287316, 298.32048812501273, 298.58869486715224, 298.8569016092918, 299.1251083514313, 299.70720512831275, 300.2893019051942, 300.87139868207555, 301.453495458957, 302.0355922358384, 302.3711088462029, 302.7066254565674, 303.04214206693183, 303.3776586772963, 303.7131752876608, 305.36987233036945, 307.02656937307813, 308.68326641578676, 310.33996345849545, 311.9966605012041, 312.26080585835746, 312.5249512155108, 312.78909657266416, 313.0532419298175, 313.31738728697087, 314.413399846621, 315.50941240627117, 316.6054249659214, 317.7014375255715, 318.79745008522167, 320.02511461664557, 321.2527791480695, 322.4804436794934, 323.7081082109174, 324.93577274234127, 324.645161193274, 324.35454964420677, 324.06393809513946, 323.7733265460722, 323.48271499700496, 323.8169371353581, 324.1511592737113, 324.48538141206444, 324.81960355041764, 325.1538256887708, 326.5800613342101, 328.0062969796494, 329.43253262508875, 330.85876827052806, 332.28500391596737, 332.80972668515534, 333.33444945434326, 333.85917222353123, 334.38389499271915, 334.9086177619071, 335.8334518925568, 336.7582860232065, 337.68312015385624, 338.6079542845059, 339.5327884151556, 339.69615311755797, 339.85951781996033, 340.0228825223627, 340.18624722476505, 340.3496119271674, 340.58023026109277, 340.8108485950181, 341.0414669289434, 341.27208526286876, 341.5027035967941, 341.3573635359061, 341.212023475018, 341.06668341412995, 340.92134335324187, 340.77600329235383, 340.16258507321805, 339.5491668540823, 338.9357486349465, 338.3223304158107, 337.70891219667493, 337.9331224429525, 338.15733268923003, 338.38154293550764, 338.6057531817852, 338.82996342806274, 339.2150109912781, 339.60005855449356, 339.98510611770894, 340.3701536809244, 340.75520124413976, 341.3824931918447, 342.0097851395496, 342.63707708725445, 343.2643690349594, 343.8916609826643, 343.5223935180556, 343.1531260534469, 342.78385858883826, 342.41459112422956, 342.04532365962086, 342.3047583206135, 342.564192981606, 342.82362764259864, 343.0830623035912, 343.3424969645838, 343.7686490437722, 344.19480112296054, 344.62095320214894, 345.0471052813373, 345.4732573605257, 344.9530789139632, 344.43290046740077, 343.9127220208383, 343.39254357427586, 342.8723651277134, 341.3133653855934, 339.75436564347336, 338.1953659013533, 336.63636615923326, 335.07736641711324, 335.7567906101359, 336.4362148031586, 337.1156389961812, 337.79506318920386, 338.4744873822265, 336.1048062426299, 333.7351251030332, 331.36544396343663, 328.99576282384, 326.62608168424333, 326.8682301300989, 327.1103785759544, 327.35252702181003, 327.5946754676656, 327.83682391352113, 328.1066400853676, 328.37645625721404, 328.64627242906056, 328.916088600907, 329.1859047727535, 328.84016417297954, 328.4944235732056, 328.1486829734316, 327.8029423736577, 327.45720177388375, 325.54142857604234, 323.6256553782009, 321.7098821803595, 319.7941089825181, 317.87833578467666, 316.6373627191936, 315.39638965371057, 314.1554165882275, 312.9144435227445, 311.67347045726143, 312.18415271169033, 312.69483496611923, 313.2055172205482, 313.7161994749771, 314.226881729406, 313.6159548252324, 313.0050279210588, 312.3941010168852, 311.7831741127116, 311.172247208538, 311.66930872148674, 312.1663702344355, 312.66343174738427, 313.160493260333, 313.65755477328173, 312.60865388503373, 311.5597529967857, 310.5108521085377, 309.4619512202896, 308.4130503320416, 308.5302367112362, 308.64742309043083, 308.7646094696255, 308.8817958488201, 308.9989822280147, 307.72077037021376, 306.44255851241275, 305.1643466546118, 303.8861347968108, 302.6079229390098, 302.70376723831436, 302.7996115376189, 302.8954558369235, 302.991300136228, 303.08714443553254, 303.64217848942724, 304.19721254332194, 304.75224659721664, 305.30728065111134, 305.86231470500604, 305.7431507083208, 305.62398671163555, 305.50482271495025, 305.385658718265, 305.26649472157976, 304.94556126459304, 304.6246278076063, 304.30369435061965, 303.9827608936329, 303.6618274366462, 303.6098767453925, 303.5579260541389, 303.5059753628852, 303.45402467163154, 303.40207398037785, 303.35741410331985, 303.31275422626186, 303.2680943492038, 303.2234344721458, 303.1787745950878, 304.0733421873706, 304.9679097796533, 305.8624773719361, 306.75704496421884, 307.6516125565016, 307.17595756523764, 306.70030257397366, 306.2246475827096, 305.74899259144564, 305.27333760018166, 305.41531087800604, 305.5572841558304, 305.6992574336548, 305.84123071147917, 305.98320398930355, 306.125670222542, 306.2681364557804, 306.41060268901884, 306.55306892225724, 306.6955351554957, 307.5325929617819, 308.36965076806814, 309.20670857435437, 310.0437663806406, 310.8808241869268, 310.64615067410966, 310.41147716129245, 310.1768036484753, 309.9421301356581, 309.70745662284094, 310.03246200181235, 310.35746738078376, 310.68247275975517, 311.0074781387266, 311.332483517698, 311.60069306935077, 311.8689026210035, 312.13711217265626, 312.405321724309, 312.67353127596175, 313.25562189667136, 313.83771251738096, 314.41980313809063, 315.00189375880024, 315.58398437950984, 315.9195010238053, 316.2550176681008, 316.5905343123962, 316.92605095669165, 317.2615676009871, 318.918269413623, 320.574971226259, 322.2316730388949, 323.88837485153084, 325.54507666416674, 325.8092202776706, 326.0733638911745, 326.33750750467834, 326.60165111818225, 326.8657947316861, 327.9618042137912, 329.0578136958963, 330.15382317800135, 331.24983266010645, 332.34584214221155, 333.5735091361029, 334.8011761299943, 336.02884312388574, 337.2565101177771, 338.4841771116685, 338.1935670667035, 337.9029570217386, 337.6123469767736, 337.3217369318087, 337.0311268868437, 337.3653465708265, 337.6995662548093, 338.0337859387921, 338.36800562277494, 338.7022253067577, 340.1284606674373, 341.5546960281169, 342.9809313887964, 344.407166749476, 345.8334021101556, 346.35812688843055, 346.8828516667055, 347.4075764449805, 347.9323012232555, 348.45702600153044, 349.38185963006185, 350.30669325859327, 351.23152688712463, 352.15636051565605, 353.08119414418746, 353.24455746669656, 353.40792078920566, 353.5712841117148, 353.7346474342239, 353.898010756733, 354.12862997750193, 354.3592491982708, 354.5898684190397, 354.82048763980856, 355.0511068605775, 354.9057675523114, 354.76042824404533, 354.6150889357792, 354.4697496275132, 354.3244103192471, 353.7109911402445, 353.09757196124195, 352.48415278223933, 351.8707336032368, 351.2573144242342, 351.48152443144727, 351.70573443866033, 351.92994444587333, 352.1541544530864, 352.37836446029945, 352.763412855213, 353.1484612501266, 353.53350964504017, 353.9185580399538, 354.30360643486733, 354.93089826884676, 355.55819010282625, 356.1854819368057, 356.81277377078516, 357.4400656047646, 357.0707975350328, 356.70152946530106, 356.3322613955693, 355.96299332583754, 355.59372525610576, 355.8531602233001, 356.1125951904944, 356.37203015768876, 356.63146512488305, 356.8909000920774, 357.31705253108805, 357.7432049700987, 358.1693574091093, 358.59550984811995, 359.0216622871306, 358.5014834731643, 357.981304659198, 357.4611258452316, 356.9409470312653, 356.420768217299, 354.8617683279418, 353.30276843858456, 351.7437685492274, 350.1847686598702, 348.625768770513, 349.30519330194574, 349.9846178333785, 350.66404236481117, 351.3434668962439, 352.02289142767665, 349.6532102806185, 347.28352913356036, 344.9138479865023, 342.54416683944413, 340.174485692386, 340.41663387804937, 340.6587820637127, 340.9009302493761, 341.1430784350394, 341.3852266207028, 341.655042892021, 341.9248591633392, 342.1946754346574, 342.4644917059756, 342.73430797729384, 342.3885675438262, 342.0428271103585, 341.6970866768908, 341.3513462434231, 341.00560580995545, 339.0898324749695, 337.17405913998357, 335.2582858049977, 333.34251247001174, 331.4267391350258, 330.18576598973067, 328.9447928444356, 327.70381969914047, 326.4628465538454, 325.22187340855027, 325.732555798248, 326.2432381879457, 326.75392057764344, 327.26460296734115, 327.77528535703885, 327.16435846616355, 326.55343157528824, 325.9425046844129, 325.3315777935376, 324.72065090266227, 325.21771230574586, 325.71477370882945, 326.2118351119131, 326.7088965149967, 327.2059579180803, 326.1570570590563, 325.1081562000323, 324.0592553410082, 323.0103544819842, 321.9614536229602, 322.07864007697725, 322.1958265309943, 322.31301298501126, 322.4301994390283, 322.5473858930453, 321.2691739856051, 319.99096207816484, 318.71275017072463, 317.43453826328437, 316.15632635584416, 316.25217061489764, 316.3480148739512, 316.44385913300465, 316.5397033920582, 316.63554765111166, 317.19058175805776, 317.7456158650038, 318.3006499719499, 318.85568407889593, 319.41071818584203, 319.2915542013242, 319.1723902168063, 319.0532262322884, 318.93406224777056, 318.8148982632527, 318.4939647606749, 318.17303125809707, 317.8520977555192, 317.5311642529414, 317.21023075036356, 317.1582800660721, 317.10632938178065, 317.05437869748926, 317.0024280131978, 316.95047732890635, 316.90581748475716, 316.861157640608, 316.8164977964588, 316.7718379523096, 316.72717810816044, 317.62174568318693, 318.51631325821336, 319.41088083323984, 320.3054484082663, 321.20001598329276, 320.72436097267774, 320.24870596206273, 319.7730509514477, 319.2973959408327, 318.8217409302177, 318.96371422841366, 319.10568752660964, 319.2476608248057, 319.38963412300166, 319.53160742119763, 319.67407366213376, 319.8165399030699, 319.959006144006, 320.10147238494216, 320.2439386258783, 321.08099641356836, 321.9180542012584, 322.75511198894856, 323.5921697766386, 324.4292275643287, 324.19455405222703, 323.9598805401253, 323.72520702802365, 323.4905335159219, 323.25586000382026, 323.5808653969796, 323.90587079013903, 324.2308761832984, 324.5558815764578, 324.88088696961717, 325.1490965156061, 325.41730606159507, 325.685515607584, 325.953725153573, 326.2219346995619, 326.80402531128937, 327.3861159230168, 327.9682065347443, 328.55029714647173, 329.1323877581992, 329.4679044101281, 329.80342106205705, 330.13893771398597, 330.47445436591494, 330.80997101784385, 332.46667283470896, 334.123374651574, 335.7800764684391, 337.4367782853042, 339.0934801021693, 339.35762370822084, 339.62176731427235, 339.8859109203239, 340.1500545263754, 340.414198132427, 341.5102076139299, 342.6062170954328, 343.70222657693563, 344.79823605843853, 345.89424553994144, 347.1219125398386, 348.3495795397358, 349.577246539633, 350.8049135395302, 352.0325805394274, 351.741970492768, 351.4513604461086, 351.1607503994492, 350.8701403527898, 350.57953030613044, 350.91374998605795, 351.24796966598547, 351.5821893459129, 351.91640902584044, 352.25062870576795, 353.67686406922377, 355.1030994326796, 356.52933479613546, 357.9555701595913, 359.3818055230471, 359.9065303034727, 360.43125508389835, 360.955979864324, 361.4807046447496, 362.00542942517524, 362.93026305077575, 363.85509667637626, 364.7799303019767, 365.70476392757723, 366.62959755317775, 366.7929608750714, 366.95632419696506, 367.1196875188587, 367.28305084075237, 367.446414162646, 367.67703338591326, 367.90765260918045, 368.1382718324477, 368.36889105571487, 368.5995102789821, 368.4541709702946, 368.3088316616072, 368.1634923529197, 368.0181530442323, 367.8728137355448, 367.2593945547532, 366.6459753739616, 366.0325561931701, 365.4191370123785, 364.8057178315869, 365.02992783977135, 365.2541378479558, 365.4783478561403, 365.7025578643248, 365.92676787250923, 366.3118162684628, 366.69686466441635, 367.08191306036986, 367.4669614563234, 367.852009852277, 368.4793016851274, 369.10659351797784, 369.73388535082825, 370.3611771836787, 370.9884690165291, 370.61920094639595, 370.2499328762628, 369.8806648061297, 369.5113967359965, 369.14212866586337, 369.4015636340792, 369.6609986022951, 369.9204335705109, 370.1798685387268, 370.4393035069426, 370.8654559458973, 371.29160838485194, 371.71776082380666, 372.1439132627613, 372.570065701716, 372.04988688697625, 371.52970807223653, 371.00952925749687, 370.48935044275714, 369.9691716280174, 368.41017173898217, 366.8511718499469, 365.2921719609116, 363.73317207187637, 362.1741721828411, 362.85359671475874, 363.53302124667636, 364.2124457785939, 364.89187031051154, 365.57129484242915, 363.2016136949464, 360.8319325474636, 358.46225139998086, 356.0925702524981, 353.7228891050153, 353.9650372904549, 354.2071854758945, 354.44933366133415, 354.69148184677374, 354.93363003221333, 355.203446303942, 355.47326257567056, 355.7430788473992, 356.0128951191278, 356.28271139085643, 355.9369709574148, 355.5912305239732, 355.2454900905315, 354.8997496570899, 354.5540092236483, 352.6382358883342, 350.7224625530201, 348.80668921770604, 346.89091588239194, 344.97514254707784, 343.73416940188065, 342.4931962566834, 341.2522231114862, 340.011249966289, 338.7702768210918, 339.2809592110092, 339.7916416009266, 340.30232399084395, 340.81300638076135, 341.32368877067876, 340.7127618796483, 340.10183498861784, 339.4909080975874, 338.8799812065569, 338.2690543155265, 338.76611571849526, 339.2631771214641, 339.76023852443285, 340.2572999274017, 340.75436133037044, 339.7054604715083, 338.6565596126461, 337.607658753784, 336.5587578949218, 335.50985703605966, 335.62704349010755, 335.7442299441555, 335.8614163982034, 335.97860285225136, 336.09578930629925, 334.81757739872216, 333.5393654911451, 332.26115358356805, 330.98294167599096, 329.70472976841387, 329.80057402749264, 329.8964182865714, 329.99226254565014, 330.0881068047289, 330.1839510638077, 330.738985170851, 331.2940192778943, 331.8490533849375, 332.4040874919808, 332.9591215990241, 332.83995761445163, 332.72079362987915, 332.6016296453066, 332.48246566073414, 332.36330167616165, 332.04236817352796, 331.72143467089427, 331.40050116826063, 331.07956766562694, 330.75863416299325, 330.7066834787643, 330.65473279453545, 330.6027821103065, 330.55083142607765, 330.4988807418487, 330.4542208977204, 330.4095610535921, 330.3649012094638, 330.3202413653355, 330.2755815212072, 331.17014909617757, 332.06471667114795, 332.95928424611833, 333.8538518210887, 334.7484193960591, 334.27276438544806, 333.797109374837, 333.32145436422593, 332.8457993536149, 332.37014434300386, 332.512117641242, 332.6540909394801, 332.79606423771827, 332.93803753595637, 333.0800108341945, 333.2224770751124, 333.36494331603024, 333.5074095569481, 333.64987579786595, 333.79234203878383, 334.62939982644775, 335.4664576141117, 336.30351540177566, 337.1405731894396, 337.9776309771035, 337.7429574650254, 337.50828395294735, 337.2736104408692, 337.03893692879114, 336.80426341671307, 337.12926880988425, 337.4542742030555, 337.7792795962267, 338.1042849893979, 338.4292903825691, 338.6974999285354, 338.96570947450175, 339.23391902046814, 339.50212856643446, 339.7703381124008, 340.3524287241272, 340.9345193358536, 341.51660994758004, 342.09870055930645, 342.68079117103287, 343.01630782297974, 343.35182447492656, 343.68734112687343, 344.02285777882025, 344.3583744307671, 346.01507624762655, 347.67177806448603, 349.32847988134546, 350.98518169820494, 352.64188351506436, 352.906027121104, 353.1701707271436, 353.4343143331833, 353.6984579392229, 353.96260154526254, 355.0586110267741, 356.15462050828563, 357.25062998979723, 358.3466394713088, 359.4426489528203, 360.6703159527236, 361.89798295262693, 363.12564995253024, 364.35331695243354, 365.58098395233685, 365.29037390566856, 364.9997638590002, 364.7091538123319, 364.41854376566357, 364.1279337189953, 364.46215339892126, 364.79637307884724, 365.13059275877316, 365.46481243869914, 365.7990321186251, 367.22526748208844, 368.65150284555176, 370.0777382090151, 371.5039735724784, 372.9302089359417, 373.4549337163659, 373.97965849678997, 374.5043832772141, 375.0291080576382, 375.55383283806236, 376.4786664636576, 377.4035000892528, 378.32833371484804, 379.25316734044327, 380.1780009660385, 380.3413642879352, 380.50472760983195, 380.66809093172867, 380.8314542536254, 380.9948175755221, 381.2254367987923, 381.4560560220625, 381.68667524533276, 381.91729446860296, 382.14791369187316, 382.0025743831822, 381.8572350744913, 381.71189576580036, 381.56655645710947, 381.4212171484185, 380.8077979676259, 380.1943787868333, 379.5809596060406, 378.967540425248, 378.35412124445537, 378.5783312526429, 378.8025412608304, 379.026751269018, 379.25096127720553, 379.47517128539306, 379.86021968134634, 380.2452680772996, 380.63031647325283, 381.0153648692061, 381.4004132651594, 382.0277050980075, 382.6549969308557, 383.28228876370383, 383.909580596552, 384.53687242940015, 384.167604359268, 383.79833628913593, 383.4290682190038, 383.0598001488717, 382.6905320787396, 382.94996704695683, 383.20940201517413, 383.4688369833914, 383.7282719516087, 383.98770691982594, 384.4138593587793, 384.84001179773264, 385.266164236686, 385.69231667563935, 386.1184691145927, 385.59829029985235, 385.078111485112, 384.5579326703717, 384.03775385563137, 383.517575040891, 381.958575151857, 380.39957526282296, 378.84057537378897, 377.2815754847549, 375.7225755957209, 376.40200012763853, 377.08142465955615, 377.7608491914738, 378.44027372339144, 379.11969825530906, 376.75001710782533, 374.3803359603416, 372.01065481285787, 369.64097366537413, 367.2712925178904, 367.51344070333033, 367.75558888877026, 367.99773707421014, 368.23988525965007, 368.48203344509, 368.75184971681927, 369.02166598854853, 369.2914822602778, 369.5612985320071, 369.83111480373634, 369.4853743702942, 369.13963393685214, 368.79389350341, 368.44815306996793, 368.1024126365258, 366.18663930121136, 364.2708659658969, 362.3550926305825, 360.43931929526804, 358.5235459599536, 357.28257281475686, 356.0415996695602, 354.80062652436345, 353.5596533791668, 352.31868023397004, 352.82936262388756, 353.3400450138051, 353.85072740372254, 354.36140979364006, 354.8720921835576, 354.2611652925267, 353.6502384014958, 353.0393115104649, 352.42838461943404, 351.81745772840316, 352.31451913137204, 352.8115805343409, 353.3086419373098, 353.8057033402787, 354.30276474324756, 353.2538638843857, 352.2049630255238, 351.15606216666197, 350.1071613078001, 349.0582604489382, 349.175446902986, 349.2926333570337, 349.4098198110815, 349.5270062651292, 349.644192719177, 348.36598081159974, 347.0877689040225, 345.8095569964453, 344.531345088868, 343.25313318129076, 343.3489774403697, 343.44482169944865, 343.54066595852765, 343.6365102176066, 343.73235447668554, 344.2873885837289, 344.84242269077225, 345.39745679781555, 345.9524909048589, 346.50752501190226, 346.3883610273296, 346.26919704275696, 346.15003305818425, 346.0308690736116, 345.91170508903895, 345.5907715864053, 345.2698380837716, 344.948904581138, 344.6279710785043, 344.30703757587065, 344.2550868916419, 344.2031362074131, 344.1511855231843, 344.0992348389555, 344.04728415472675, 344.0026243105984, 343.95796446647, 343.9133046223417, 343.8686447782133, 343.82398493408493, 344.7185525090552, 345.6131200840255, 346.5076876589958, 347.4022552339661, 348.2968228089364, 347.8211677983254, 347.3455127877145, 346.8698577771035, 346.3942027664926, 345.9185477558816, 346.06052105411976, 346.2024943523579, 346.34446765059613, 346.4864409488343, 346.62841424707244, 346.7708804879902, 346.91334672890804, 347.0558129698258, 347.19827921074364, 347.3407454516614, 348.1778032393253, 349.01486102698925, 349.85191881465323, 350.68897660231715, 351.5260343899811, 351.29136087790306, 351.056687365825, 350.82201385374697, 350.5873403416689, 350.3526668295909, 350.67767222276206, 351.00267761593324, 351.3276830091044, 351.6526884022756, 351.9776937954468, 352.2459033414131, 352.51411288737944, 352.78232243334577, 353.0505319793121, 353.3187415252784, 353.90083213700484, 354.4829227487313, 355.0650133604577, 355.6471039721842, 356.2291945839106, 356.5647112358575, 356.90022788780436, 357.23574453975124, 357.5712611916981, 357.906777843645, 359.5634796605044, 361.22018147736384, 362.8768832942232, 364.53358511108263, 366.19028692794205, 366.4544305339817, 366.71857414002136, 366.982717746061, 367.24686135210067, 367.5110049581403, 368.6070144396519, 369.70302392116344, 370.79903340267504, 371.8950428841866, 372.9910523656982, 374.2187193656015, 375.4463863655048, 376.67405336540816, 377.90172036531146, 379.12938736521477, 378.8387773185464, 378.54816727187807, 378.2575572252097, 377.9669471785414, 377.676337131873, 378.010556811799, 378.344776491725, 378.6789961716509, 379.0132158515769, 379.34743553150287, 380.7736708949662, 382.1999062584295, 383.6261416218929, 385.0523769853562, 386.4786123488195, 387.0033371292436, 387.52806190966777, 388.05278669009186, 388.577511470516, 389.1022362509401, 390.02706987653534, 390.95190350213056, 391.8767371277258, 392.801570753321, 393.72640437891624, 393.88976770081297, 394.0531310227097, 394.2164943446064, 394.37985766650314, 394.54322098839987, 394.77384021167006, 395.00445943494026, 395.2350786582105, 395.4656978814807, 395.6963171047509, 395.55097779605995, 395.40563848736906, 395.2602991786781, 395.1149598699872, 394.96962056129627, 394.35620138050365, 393.742782199711, 393.12936301891835, 392.5159438381257, 391.90252465733306, 392.1267346655206, 392.3509446737081, 392.5751546818957, 392.7993646900832, 393.02357469827075, 393.408623094224, 393.7936714901773, 394.1787198861306, 394.56376828208386]
arr_lst = np.array(lst)

f = open(f"bidask-run-{YEAR}.csv", "w")
f_pnl = open(f"pnl-run-{YEAR}.csv", "w")

class Case1ExampleBot(UTCBot):
    '''
    An example bot for Case 1 of the 2022 UChicago Trading Competition. We recommend that you start
    by reading through this bot and understanding how it works. Then, make a copy of this file and
    start trying to write your own bot!
    '''

    async def handle_round_started(self):
        '''
        This function is called when the round is started. You should do your setup here, and
        start any tasks that should be running for the rest of the round.
        '''
        print(f"Running Simulation for year {YEAR}!")
        self.current_day = 252 * (YEAR - 2017)
        self.rain = []

        self.fairs = {}
        self.order_book = {}
        self.pos = {}
        self.order_ids = {}
        self.competitors_asks = {}
        self.competitors_bids = {}
        for month in CONTRACTS:
            self.order_ids[month+' bid'] = ''
            self.order_ids[month+' ask'] = ''

            self.fairs[month] = 330

            self.order_book[month] = {
                'Best Bid':{'Price':0,'Quantity':0},
                'Best Ask':{'Price':0,'Quantity':0}}
            
            self.pos[month] = 0
            f.write(f"{month} bid,{month} ask,")
        f.write("\n")

        asyncio.create_task(self.update_quotes())

    def update_fairs(self):
        '''
        You should implement this function to update the fair value of each asset as the
        round progresses.
        '''
        for month in CONTRACTS:
            due = 252 * (YEAR - 2017) + CONTRACT_TO_DAY[month]
            exp_period = max(0, due - self.current_day) / 365
            rain_delta = 0

            fair = (arr_lst[self.current_day] + rain_delta) * np.exp(RISK_FREE_INTEREST * exp_period)
            self.fairs[month] = round(fair - (self.pos[month] / ORDER_SIZE) * FADE + FAIR_DELTA, 2)
        self.current_day = self.current_day + 1

    async def update_quotes(self):
        '''
        This function updates the quotes at each time step. In this sample implementation we 
        are always quoting symetrically about our predicted fair prices, without consideration
        for our current positions. We don't reccomend that you do this for the actual competition.
        '''
        while True:
            global EDGE, FADE, ORDER_SIZE, SLACK, FAIR_DELTA, RISK_FREE_INTEREST
            self.update_fairs()
            with open('case1_params') as params:
                for param in params.readlines():
                    pairs = param.split(':')
                    if len(pairs) == 2:
                        try:
                            if pairs[0].strip() == 'EDGE':
                                EDGE = float(pairs[1].strip())
                            elif pairs[0].strip() == 'FADE':
                                FADE = float(pairs[1].strip())
                            elif pairs[0].strip() == 'ORDER_SIZE':
                                ORDER_SIZE = int(pairs[1].strip())
                            elif pairs[0].strip() == 'SLACK':
                                SLACK = float(pairs[1].strip())
                            elif pairs[0].strip() == 'RISK_FREE_INTEREST':
                                RISK_FREE_INTEREST = float(pairs[1].strip())
                            elif pairs[0].strip() == 'FAIR_DELTA':
                                FAIR_DELTA = float(pairs[1].strip())
                        except ValueError:
                            pass
            
            print(f"YEAR: {YEAR}\tEDGE: {EDGE}\tFADE: {FADE}\tORDER_SIZE: {ORDER_SIZE}\tSLACK: {SLACK}\tFAIR_DELTA: {FAIR_DELTA}\tRISK_FREE_INTEREST: {RISK_FREE_INTEREST}")

            for contract in CONTRACTS:
                due_date = 252 * (YEAR - 2017) + CONTRACT_TO_DAY[contract]
                if self.current_day > due_date:
                    print(f"{contract} ENDING POS: {self.pos[contract]}")
                    continue
                
                best_bid = round(self.order_book[contract]['Best Bid']['Price'], 2)
                best_ask = round(self.order_book[contract]['Best Ask']['Price'], 2)
                if len(self.competitors_bids) == 1:
                    print("S ", end="")
                    bid = round(self.fairs[contract] - EDGE - SLACK, 2)
                else:
                    bid = round(self.fairs[contract] - EDGE, 2)
                
                if len(self.competitors_asks) == 1:
                    print("S ", end="")
                    ask = round(self.fairs[contract] + EDGE + SLACK, 2)
                else:
                    ask = round(self.fairs[contract] + EDGE, 2)

                if best_bid < self.fairs[contract] and best_ask > self.fairs[contract]:
                    if best_bid > bid:
                        bid = round(best_bid + 0.01, 2)
                    if best_ask < ask:
                        ask = round(best_ask - 0.01, 2)
                
                print(f"{contract} POS: {self.pos[contract]}\t BID (Best/Own): {best_bid:.2f} / {bid:.2f}\t ASK (Best/Own): {best_ask:.2f} / {ask:.2f}\t FAIR: {self.fairs[contract]:.2f}")

                f.write(f"{best_bid},{best_ask},")
                if self.pos[contract] + ORDER_SIZE < POS_LIMIT:
                    bid_response = await self.modify_order(
                        self.order_ids[contract+' bid'],
                        contract,
                        pb.OrderSpecType.LIMIT,
                        pb.OrderSpecSide.BID,
                        ORDER_SIZE,
                        bid
                    )
                    assert bid_response.ok
                    self.order_ids[contract+' bid'] = bid_response.order_id
                        
                if self.pos[contract] - ORDER_SIZE > -POS_LIMIT:
                    ask_response = await self.modify_order(
                        self.order_ids[contract+' ask'],
                        contract,
                        pb.OrderSpecType.LIMIT,
                        pb.OrderSpecSide.ASK,
                        ORDER_SIZE,
                        ask
                    )
                    assert ask_response.ok
                    self.order_ids[contract+' ask'] = ask_response.order_id

                    
            print("-----")
            f.write("\n")
            await asyncio.sleep(1)

    async def handle_exchange_update(self, update: pb.FeedMessage):
        '''
        This function receives messages from the exchange. You are encouraged to read through
        the documentation for the exachange to understand what types of messages you may receive
        from the exchange and how they may be useful to you.
        
        Note that monthly rainfall predictions are sent through Generic Message.
        '''
        kind, _ = betterproto.which_one_of(update, "msg")

        if kind == "pnl_msg":
            print('Realized pnl:', update.pnl_msg.realized_pnl)
            print("M2M pnl:", update.pnl_msg.m2m_pnl)
            f_pnl.write(f"{update.pnl_msg.realized_pnl}\n")

        elif kind == "market_snapshot_msg":
        # Updates your record of the Best Bids and Best Asks in the market
            for contract in CONTRACTS:
                book = update.market_snapshot_msg.books[contract]
                if len(book.bids) != 0:
                    best_bid = book.bids[0]
                    self.order_book[contract]['Best Bid']['Price'] = float(best_bid.px)
                    self.order_book[contract]['Best Bid']['Quantity'] = best_bid.qty
                    self.competitors_bids = book.bids

                if len(book.asks) != 0:
                    best_ask = book.asks[0]
                    self.order_book[contract]['Best Ask']['Price'] = float(best_ask.px)
                    self.order_book[contract]['Best Ask']['Quantity'] = best_ask.qty
                    self.competitors_asks = book.asks
        
        elif kind == "fill_msg":
            # When you hear about a fill you had, update your positions
            fill_msg = update.fill_msg

            if fill_msg.order_side == pb.FillMessageSide.BUY:
                self.pos[fill_msg.asset] += update.fill_msg.filled_qty
            else:
                self.pos[fill_msg.asset] -= update.fill_msg.filled_qty

        elif kind == "generic_msg":
            # Saves the predicted rainfall
            try:
                pred = float(update.generic_msg.message)
                self.rain.append(pred)
            # Prints the Risk Limit message
            except ValueError:
                print(update.generic_msg.message)


if __name__ == "__main__":
    start_bot(Case1ExampleBot)